(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(13),c=n.n(r),l=n(14),u=n(2),i=n(3),m=n.n(i),s=function(e){var t=e.newName,n=e.newNumber,a=e.addContact,r=e.setNewName,c=e.setNewNumber;return o.a.createElement("form",{onSubmit:a},o.a.createElement("fieldset",null,o.a.createElement("legend",null,"Add Contact"),o.a.createElement("div",null,"Name"," ",o.a.createElement("input",{value:t,onChange:function(e){r(e.target.value)}})),o.a.createElement("div",null,"Number"," ",o.a.createElement("input",{value:n,onChange:function(e){c(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"}," Add "))))},d=function(e){var t=e.name,n=e.number,a=e.id,r=e.removeContact;return o.a.createElement("li",null,t," ",n," ",o.a.createElement("button",{onClick:function(){r(a,t)}}," ","Delete"," "))},f=function(e){var t=e.people,n=e.removeContact;return o.a.createElement("ul",null,t.map((function(e){return o.a.createElement(d,{key:e.id,name:e.name,number:e.number,id:e.id,removeContact:n})})))},h=function(e){var t=e.setFilterBy;return o.a.createElement("div",null,"Filter"," ",o.a.createElement("input",{onChange:function(e){t(e.target.value)}}))},b=function(e){var t=e.shouldShow,n=e.message;return t?o.a.createElement("div",{style:{color:"green",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}}," ",n," "):null},p=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),d=Object(u.a)(i,2),p=d[0],v=d[1],E=Object(a.useState)(""),w=Object(u.a)(E,2),g=w[0],N=w[1],j=Object(a.useState)(""),O=Object(u.a)(j,2),S=O[0],y=O[1],C=r.filter((function(e){return e.name.includes(S)}));Object(a.useEffect)((function(){m.a.get("http://localhost:3001/persons").then((function(e){c(e.data),console.log("hello")}))}),[]);var k=Object(a.useState)(""),B=Object(u.a)(k,2),A=B[0],F=B[1],x=Object(a.useState)(!1),D=Object(u.a)(x,2),I=D[0],J=D[1],W=function(e){F(e),J(!0),setTimeout((function(){J(!1),F("")}),3e3)};return o.a.createElement("div",null,o.a.createElement("h2",null," Phonebook "),o.a.createElement(b,{shouldShow:I,message:A}),o.a.createElement(h,{setFilterBy:y}),o.a.createElement(f,{people:C,removeContact:function(e,t){window.confirm("Are you sure you want to delete ".concat(t))&&m.a.delete("http://localhost:3001/persons/".concat(e)).then((function(t){c(r.filter((function(t){return t.id!==e})))}))}}),o.a.createElement(s,{newName:g,newNumber:p,addContact:function(e){if(e.preventDefault(),""===p||""===g)alert("something is missing");else if(r.map((function(e){return e.name})).includes(g))if(!0===window.confirm("".concat(g," already added, want to change the number?"))){var t=r.findIndex((function(e){return e.name===g})),n=Object(l.a)({},r[t]);n.number=p,m.a.put("http://localhost:3001/persons/".concat(r[t].id),n).then((function(e){c(r.map((function(e,a){return t===a?n:e}))),W("".concat(g," phone number updated to ").concat(p)),N(""),v("")}))}else N(""),v("");else{var a={number:p,name:g,id:r.reduce((function(e,t){return e<t.id?t.id:e}),0)+1};m.a.post("http://localhost:3001/persons",a).then((function(e){c(r.concat(a)),W("".concat(g," added to contacts list")),v(""),N("")}))}},setNewName:N,setNewNumber:v}))};var v=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.9f841763.chunk.js.map